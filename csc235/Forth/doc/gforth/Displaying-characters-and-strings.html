<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- This manual is for Gforth (version 0.7.3, June 14, 2014),
a fast and portable implementation of the ANS Forth language.  It
serves as reference manual, but it also contains an introduction to
Forth and a Forth tutorial.

Copyright (C) 1995, 1996, 1997, 1998, 2000, 2003, 2004,2005,2006,2007,2008 Free Software Foundation, Inc.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.1 or
any later version published by the Free Software Foundation; with no
Invariant Sections, with the Front-Cover texts being "A GNU Manual,"
and with the Back-Cover Texts as in (a) below.  A copy of the
license is included in the section entitled "GNU Free Documentation
License."

(a) The FSF's Back-Cover Text is: "You have freedom to copy and modify
this GNU Manual, like GNU software.  Copies published by the Free
Software Foundation raise funds for GNU development." -->
<!-- Created by GNU Texinfo 6.7, http://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>Displaying characters and strings (Gforth Manual)</title>

<meta name="description" content="Displaying characters and strings (Gforth Manual)">
<meta name="keywords" content="Displaying characters and strings (Gforth Manual)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<link href="index.html" rel="start" title="Top">
<link href="Word-Index.html" rel="index" title="Word Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="Other-I_002fO.html" rel="up" title="Other I/O">
<link href="Terminal-output.html" rel="next" title="Terminal output">
<link href="String-Formats.html" rel="prev" title="String Formats">
<style type="text/css">
<!--
a.summary-letter {text-decoration: none}
blockquote.indentedblock {margin-right: 0em}
div.display {margin-left: 3.2em}
div.example {margin-left: 3.2em}
div.lisp {margin-left: 3.2em}
kbd {font-style: oblique}
pre.display {font-family: inherit}
pre.format {font-family: inherit}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
span.nolinebreak {white-space: nowrap}
span.roman {font-family: initial; font-weight: normal}
span.sansserif {font-family: sans-serif; font-weight: normal}
ul.no-bullet {list-style: none}
-->
</style>


</head>

<body lang="en">
<span id="Displaying-characters-and-strings"></span><div class="header">
<p>
Next: <a href="Terminal-output.html" accesskey="n" rel="next">Terminal output</a>, Previous: <a href="String-Formats.html" accesskey="p" rel="prev">String Formats</a>, Up: <a href="Other-I_002fO.html" accesskey="u" rel="up">Other I/O</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Word-Index.html" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<span id="Displaying-characters-and-strings-1"></span><h4 class="subsection">5.19.4 Displaying characters and strings</h4>
<span id="index-characters-_002d-compiling-and-displaying"></span>
<span id="index-character-strings-_002d-compiling-and-displaying"></span>

<p>This section starts with a glossary of Forth words and ends with a set
of examples.
</p>
<span id="index-bl--_002d_002d-c_002dchar--core"></span>
<span id="index-bl"></span>
<span id="index-bl-1"></span>
<div class="format">
<pre class="format"><code>bl</code>       <i>&ndash; c-char  </i>       core       &ldquo;b-l&rdquo;
</pre></div>
<p><i>c-char</i> is the character value for a space.
</p>

<span id="index-space--_002d_002d--core"></span>
<span id="index-space"></span>
<span id="index-space-1"></span>
<div class="format">
<pre class="format"><code>space</code>       <i>&ndash;  </i>       core       &ldquo;space&rdquo;
</pre></div>
<p>Display one space.
</p>

<span id="index-spaces--u-_002d_002d--core"></span>
<span id="index-spaces"></span>
<span id="index-spaces-1"></span>
<div class="format">
<pre class="format"><code>spaces</code>       <i>u &ndash;  </i>       core       &ldquo;spaces&rdquo;
</pre></div>
<p>Display <var>n</var> spaces. 
</p>

<span id="index-emit--c-_002d_002d--core"></span>
<span id="index-emit"></span>
<span id="index-emit-1"></span>
<div class="format">
<pre class="format"><code>emit</code>       <i>c &ndash;  </i>       core       &ldquo;emit&rdquo;
</pre></div>
<p>Display the character associated with character value c.
</p>

<span id="index-toupper--c1-_002d_002d-c2--gforth"></span>
<span id="index-toupper"></span>
<span id="index-toupper-1"></span>
<div class="format">
<pre class="format"><code>toupper</code>       <i>c1 &ndash; c2 </i>       gforth       &ldquo;toupper&rdquo;
</pre></div>
<p>If <i>c1</i> is a lower-case character (in the current locale), <i>c2</i>
is the equivalent upper-case character. All other characters are unchanged.
</p>
<span id="index-_002e_0022--compilation-_0027ccc_0022_0027-_002d_002d-_003b-run_002dtime-_002d_002d--core"></span>
<span id="index-_002e_0022"></span>
<span id="index-_002e_0022-1"></span>
<div class="format">
<pre class="format"><code>.&quot;</code>       <i>compilation &rsquo;ccc&quot;&rsquo; &ndash; ; run-time &ndash;  </i>       core       &ldquo;dot-quote&rdquo;
</pre></div>
<p>Compilation: Parse a string <i>ccc</i> delimited by a &quot; (double
quote). At run-time, display the string. Interpretation semantics
for this word are undefined in ANS Forth. Gforth&rsquo;s interpretation
semantics are to display the string. This is the simplest way to
display a string from within a definition; see examples below.
</p>

<span id="index-_002e_0028--compilation_0026interpretation-_0022ccc_003cparen_003e_0022-_002d_002d--core_002dext"></span>
<span id="index-_002e_0028"></span>
<span id="index-_002e_0028-1"></span>
<div class="format">
<pre class="format"><code>.(</code>       <i>compilation&amp;interpretation &quot;ccc&lt;paren&gt;&quot; &ndash;  </i>       core-ext       &ldquo;dot-paren&rdquo;
</pre></div>
<p>Compilation and interpretation semantics: Parse a string <i>ccc</i>
delimited by a <code>)</code> (right parenthesis). Display the
string. This is often used to display progress information during
compilation; see examples below.
</p>

<span id="index-_002e_005c_0022--compilation-_0027ccc_0022_0027-_002d_002d-_003b-run_002dtime-_002d_002d--gforth"></span>
<span id="index-_002e_005c_0022"></span>
<span id="index-_002e_005c_0022-1"></span>
<div class="format">
<pre class="format"><code>.\&quot;</code>       <i>compilation &rsquo;ccc&quot;&rsquo; &ndash; ; run-time &ndash;  </i>       gforth       &ldquo;dot-backslash-quote&rdquo;
</pre></div>
<p>Like <code>.&quot;</code>, but translates C-like \-escape-sequences (see
<code>S\&quot;</code>).
</p>

<span id="index-type--c_002daddr-u-_002d_002d--core"></span>
<span id="index-type"></span>
<span id="index-type-1"></span>
<div class="format">
<pre class="format"><code>type</code>       <i>c-addr u &ndash;  </i>       core       &ldquo;type&rdquo;
</pre></div>
<p>If <var>u</var>&gt;0, display <var>u</var> characters from a string starting
with the character stored at <var>c-addr</var>.
</p>

<span id="index-typewhite--addr-n-_002d_002d--gforth"></span>
<span id="index-typewhite"></span>
<span id="index-typewhite-1"></span>
<div class="format">
<pre class="format"><code>typewhite</code>       <i>addr n &ndash;  </i>       gforth       &ldquo;typewhite&rdquo;
</pre></div>
<p>Like type, but white space is printed instead of the characters.
</p>

<span id="index-cr--_002d_002d--core"></span>
<span id="index-cr"></span>
<span id="index-cr-1"></span>
<div class="format">
<pre class="format"><code>cr</code>       <i>&ndash;  </i>       core       &ldquo;c-r&rdquo;
</pre></div>
<p>Output a newline (of the favourite kind of the host OS).  Note
that due to the way the Forth command line interpreter inserts
newlines, the preferred way to use <code>cr</code> is at the start
of a piece of text; e.g., <code>cr .&quot; hello, world&quot;</code>.
</p>

<span id="index-cursor-control"></span>
<span id="index-S_0022--compilation-_0027ccc_0022_0027-_002d_002d-_003b-run_002dtime-_002d_002d-c_002daddr-u--core_002cfile"></span>
<span id="index-S_0022"></span>
<span id="index-S_0022-1"></span>
<div class="format">
<pre class="format"><code>S&quot;</code>       <i>compilation &rsquo;ccc&quot;&rsquo; &ndash; ; run-time &ndash; c-addr u  </i>       core,file       &ldquo;s-quote&rdquo;
</pre></div>
<p>Compilation: Parse a string <i>ccc</i> delimited by a <code>&quot;</code>
(double quote). At run-time, return the length, <i>u</i>, and the
start address, <i>c-addr</i> of the string. Interpretation: parse
the string as before, and return <i>c-addr</i>, <i>u</i>. Gforth
<code>allocate</code>s the string. The resulting memory leak is usually
not a problem; the exception is if you create strings containing
<code>S&quot;</code> and <code>evaluate</code> them; then the leak is not bounded
by the size of the interpreted files and you may want to
<code>free</code> the strings.  ANS Forth only guarantees one buffer of
80 characters, so in standard programs you should assume that the
string lives only until the next <code>s&quot;</code>.
</p>

<span id="index-s_005c_0022--compilation-_0027ccc_0022_0027-_002d_002d-_003b-run_002dtime-_002d_002d-c_002daddr-u--gforth"></span>
<span id="index-s_005c_0022"></span>
<span id="index-s_005c_0022-1"></span>
<div class="format">
<pre class="format"><code>s\&quot;</code>       <i>compilation &rsquo;ccc&quot;&rsquo; &ndash; ; run-time &ndash; c-addr u  </i>       gforth       &ldquo;s-backslash-quote&rdquo;
</pre></div>
<p>Like <code>S&quot;</code>, but translates C-like \-escape-sequences, as
follows: <code>\a</code> BEL (alert), <code>\b</code> BS, <code>\e</code> ESC (not in
C99), <code>\f</code> FF, <code>\n</code> newline, <code>\r</code> CR, <code>\t</code> HT,
<code>\v</code> VT, <code>\&quot;</code> &quot;, <code>\\</code> \, <code>\</code>[0-7]{1,3} octal
numerical character value (non-standard), <code>\x</code>[0-9a-f]{0,2}
hex numerical character value (standard only with two digits); a
<code>\</code> before any other character is reserved.
</p>

<span id="index-C_0022--compilation-_0022ccc_003cquote_003e_0022-_002d_002d-_003b-run_002dtime-_002d_002d-c_002daddr--core_002dext"></span>
<span id="index-C_0022"></span>
<span id="index-C_0022-1"></span>
<div class="format">
<pre class="format"><code>C&quot;</code>       <i>compilation &quot;ccc&lt;quote&gt;&quot; &ndash; ; run-time  &ndash; c-addr  </i>       core-ext       &ldquo;c-quote&rdquo;
</pre></div>
<p>Compilation: parse a string <i>ccc</i> delimited by a <code>&quot;</code>
(double quote). At run-time, return <i>c-addr</i> which
specifies the counted string <i>ccc</i>.  Interpretation
semantics are undefined.
</p>

<span id="index-char--_0027_003cspaces_003eccc_0027-_002d_002d-c--core"></span>
<span id="index-char"></span>
<span id="index-char-1"></span>
<div class="format">
<pre class="format"><code>char</code>       <i>&rsquo;&lt;spaces&gt;ccc&rsquo; &ndash; c  </i>       core       &ldquo;char&rdquo;
</pre></div>
<p>Skip leading spaces. Parse the string <i>ccc</i> and return <i>c</i>, the
display code representing the first character of <i>ccc</i>.
</p>

<span id="index-_005bChar_005d--compilation-_0027_003cspaces_003eccc_0027-_002d_002d-_003b-run_002dtime-_002d_002d-c--core"></span>
<span id="index-_005bChar_005d"></span>
<span id="index-_005bChar_005d-1"></span>
<div class="format">
<pre class="format"><code>[Char]</code>       <i>compilation &rsquo;&lt;spaces&gt;ccc&rsquo; &ndash; ; run-time &ndash; c  </i>       core       &ldquo;bracket-char&rdquo;
</pre></div>
<p>Compilation: skip leading spaces. Parse the string
<i>ccc</i>. Run-time: return <i>c</i>, the display code
representing the first character of <i>ccc</i>.  Interpretation
semantics for this word are undefined.
</p>



<p>As an example, consider the following text, stored in a file <samp>test.fs</samp>:
</p>
<div class="example">
<pre class="example">.( text-1)
: my-word
  .&quot; text-2&quot; cr
  .( text-3)
;

.&quot; text-4&quot;

: my-char
  [char] ALPHABET emit
  char emit
;
</pre></div>

<p>When you load this code into Gforth, the following output is generated:
</p>
<div class="example">
<pre class="example"><kbd>include test.fs <span class="key">RET</span></kbd> text-1text-3text-4 ok
</pre></div>

<ul>
<li> Messages <code>text-1</code> and <code>text-3</code> are displayed because <code>.(</code> 
is an immediate word; it behaves in the same way whether it is used inside
or outside a colon definition.
</li><li> Message <code>text-4</code> is displayed because of Gforth&rsquo;s added interpretation
semantics for <code>.&quot;</code>.
</li><li> Message <code>text-2</code> is <i>not</i> displayed, because the text interpreter
performs the compilation semantics for <code>.&quot;</code> within the definition of
<code>my-word</code>.
</li></ul>

<p>Here are some examples of executing <code>my-word</code> and <code>my-char</code>:
</p>
<div class="example">
<pre class="example"><kbd>my-word <span class="key">RET</span></kbd> text-2
 ok
<kbd>my-char fred <span class="key">RET</span></kbd> Af ok
<kbd>my-char jim <span class="key">RET</span></kbd> Aj ok
</pre></div>

<ul>
<li> Message <code>text-2</code> is displayed because of the run-time behaviour of
<code>.&quot;</code>.
</li><li> <code>[char]</code> compiles the &ldquo;A&rdquo; from &ldquo;ALPHABET&rdquo; and puts its display code
on the stack at run-time. <code>emit</code> always displays the character
when <code>my-char</code> is executed.
</li><li> <code>char</code> parses a string at run-time and the second <code>emit</code> displays
the first character of the string.
</li><li> If you type <code>see my-char</code> you can see that <code>[char]</code> discarded
the text &ldquo;LPHABET&rdquo; and only compiled the display code for &ldquo;A&rdquo; into the
definition of <code>my-char</code>.
</li></ul>


<hr>
<div class="header">
<p>
Next: <a href="Terminal-output.html" accesskey="n" rel="next">Terminal output</a>, Previous: <a href="String-Formats.html" accesskey="p" rel="prev">String Formats</a>, Up: <a href="Other-I_002fO.html" accesskey="u" rel="up">Other I/O</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Word-Index.html" title="Index" rel="index">Index</a>]</p>
</div>



</body>
</html>
